---
apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: common-template

parameters:
  - name: NAMESPACE
    required: true
    value: image-sync
  - name: OC_MIRROR_CLIENT_ID
    required: true
    description: "Client ID of Frontend Managed Identity"

objects:
  - apiVersion: v1
    kind: Namespace
    metadata:
      name: ${NAMESPACE}
  - apiVersion: v1
    kind: ServiceAccount
    metadata:
      annotations:
        azure.workload.identity/client-id: "${OC_MIRROR_CLIENT_ID}"
      name: image-sync
      namespace: ${NAMESPACE}

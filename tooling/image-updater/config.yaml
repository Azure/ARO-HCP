images:
  # Maestro image
  maestro:
    source:
      image: quay.io/redhat-user-workloads/maestro-rhtap-tenant/maestro/maestro
      tagPattern: "^[a-f0-9]{40}$"
    targets:
    - jsonPath: clouds.public.environments.int.defaults.maestro.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.maestro.image.digest
      filePath: ../../config/config.yaml
  # Hypershift image
  hypershift:
    source:
      image: quay.io/acm-d/rhtap-hypershift-operator
      tagPattern: "^sha256-[a-f0-9]{64}$"
      multiArch: true # Use multi-arch manifest
    targets:
    - jsonPath: clouds.public.environments.int.defaults.hypershift.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.environments.pers.defaults.hypershift.image.digest
      filePath: ../../config/config.yaml
  # PKO images
  pko-package:
    source:
      image: quay.io/package-operator/package-operator-package
      tagPattern: "^v\\d+\\.\\d+\\.\\d+$"
    targets:
    - jsonPath: clouds.public.environments.int.defaults.pko.imagePackage.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: defaults.pko.imagePackage.digest
      filePath: ../../config/config.yaml
  pko-manager:
    source:
      image: quay.io/package-operator/package-operator-manager
      tagPattern: "^v\\d+\\.\\d+\\.\\d+$"
    targets:
    - jsonPath: clouds.public.environments.int.defaults.pko.imageManager.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: defaults.pko.imageManager.digest
      filePath: ../../config/config.yaml
  pko-remote-phase-manager:
    source:
      image: quay.io/package-operator/remote-phase-manager
      tagPattern: "^v\\d+\\.\\d+\\.\\d+$"
    targets:
    - jsonPath: clouds.public.environments.int.defaults.pko.remotePhaseManager.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: defaults.pko.remotePhaseManager.digest
      filePath: ../../config/config.yaml
  # Clusters Service image
  clusters-service:
    source:
      image: quay.io/app-sre/aro-hcp-clusters-service
      tagPattern: "^[a-f0-9]{7}$"
      useAuth: true
      keyVault:
        url: "https://arohcpdev-global.vault.azure.net/"
        secretName: "component-sync-pull-secret"
    targets:
    - jsonPath: clouds.dev.defaults.clustersService.image.digest
      filePath: ../../config/config.yaml
    - jsonPath: clouds.public.environments.int.defaults.clustersService.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
  # Frontend and Backend images
  arohcpfrontend:
    source:
      image: arohcpsvcdev.azurecr.io/arohcpfrontend
      useAuth: true
    targets:
    - jsonPath: clouds.public.environments.int.defaults.frontend.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.frontend.image.digest
      filePath: ../../config/config.yaml
  arohcpbackend:
    source:
      image: arohcpsvcdev.azurecr.io/arohcpbackend
      useAuth: true
    targets:
    - jsonPath: clouds.public.environments.int.defaults.backend.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.backend.image.digest
      filePath: ../../config/config.yaml
  # Kube Events image
  kubeEvents:
    source:
      image: kubernetesshared.azurecr.io/shared/kube-events
      tagPattern: "^\\d+\\.\\d+$"
    targets:
    - jsonPath: defaults.kubeEvents.image.digest
      filePath: ../../config/config.yaml
  # ACM images
  acm-operator:
    source:
      image: quay.io/redhat-user-workloads/crt-redhat-acm-tenant/acm-operator-bundle-acm-214
      tagPattern: "^v\\d+\\.\\d+\\.\\d+-\\d+$"
    targets:
    - jsonPath: defaults.acm.operator.bundle.digest
      filePath: ../../config/config.yaml
  acm-mce:
    source:
      image: quay.io/redhat-user-workloads/crt-redhat-acm-tenant/mce-operator-bundle-mce-29
      tagPattern: "^v\\d+\\.\\d+\\.\\d+-\\d+$"
    targets:
    - jsonPath: defaults.acm.mce.bundle.digest
      filePath: ../../config/config.yaml
  # MSI-Acrpull image
  acrPull:
    source:
      image: mcr.microsoft.com/aks/msi-acrpull
      tagPattern: "^v\\d+\\.\\d+\\.\\d+$"
    targets:
    - jsonPath: clouds.dev.defaults.acrPull.image.digest
      filePath: ../../config/config.yaml
    - jsonPath: clouds.public.environments.int.defaults.acrPull.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
  # Arobit images
  arobit-forwarder:
    source:
      image: mcr.microsoft.com/oss/v2/fluent/fluent-bit
      tagPattern: "^v\\d+\\.\\d+\\.\\d+(-\\d+)?$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: defaults.arobit.forwarder.image.digest
      filePath: ../../config/config.yaml
  arobit-mdsd:
    source:
      image: mcr.microsoft.com/geneva/distroless/mdsd
      tagPattern: "^\\d+\\.\\d+\\.\\d+-\\d+-\\d+$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: defaults.arobit.mdsd.image.digest
      filePath: ../../config/config.yaml
  # Secret Sync Controller image
  secretSyncController:
    source:
      image: registry.k8s.io/secrets-store-sync/controller
      tagPattern: "^v\\d+\\.\\d+\\.\\d+$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: clouds.public.environments.int.defaults.secretSyncController.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.secretSyncController.image.digest
      filePath: ../../config/config.yaml
  # Prometheus images
  prometheus-operator:
    source:
      image: mcr.microsoft.com/oss/v2/prometheus/prometheus-operator
      tagPattern: "^v\\d+\\.\\d+\\.\\d+-?\\d?$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: clouds.public.environments.int.defaults.svc.prometheus.prometheusOperator.image.sha
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.public.environments.int.defaults.mgmt.prometheus.prometheusOperator.image.sha
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.svc.prometheus.prometheusOperator.image.sha
      filePath: ../../config/config.yaml
    - jsonPath: clouds.dev.defaults.mgmt.prometheus.prometheusOperator.image.sha
      filePath: ../../config/config.yaml
  prometheus:
    source:
      image: mcr.microsoft.com/oss/v2/prometheus/prometheus
      tagPattern: "^v\\d+\\.\\d+\\.\\d+-?\\d?$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: clouds.public.environments.int.defaults.svc.prometheus.prometheusSpec.image.sha
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.public.environments.int.defaults.mgmt.prometheus.prometheusSpec.image.sha
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.svc.prometheus.prometheusSpec.image.sha
      filePath: ../../config/config.yaml
    - jsonPath: clouds.dev.defaults.mgmt.prometheus.prometheusSpec.image.sha
      filePath: ../../config/config.yaml
  prometheus-config-reloader:
    source:
      image: mcr.microsoft.com/oss/v2/prometheus/prometheus-config-reloader
      tagPattern: "^v\\d+\\.\\d+\\.\\d+-?\\d?$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: clouds.public.environments.int.defaults.svc.prometheus.prometheusConfigReloader.image.sha
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.public.environments.int.defaults.mgmt.prometheus.prometheusConfigReloader.image.sha
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.svc.prometheus.prometheusConfigReloader.image.sha
      filePath: ../../config/config.yaml
    - jsonPath: clouds.dev.defaults.mgmt.prometheus.prometheusConfigReloader.image.sha
      filePath: ../../config/config.yaml
  kube-state-metrics:
    source:
      image: mcr.microsoft.com/oss/v2/kubernetes/kube-state-metrics
      tagPattern: "^v\\d+\\.\\d+\\.\\d+-?\\d?$"
      multiArch: true # This image only publishes multi-arch manifests
    targets:
    - jsonPath: clouds.public.environments.int.defaults.svc.prometheus.kubeStateMetrics.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.public.environments.int.defaults.mgmt.prometheus.kubeStateMetrics.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.svc.prometheus.kubeStateMetrics.image.digest
      filePath: ../../config/config.yaml
    - jsonPath: clouds.dev.defaults.mgmt.prometheus.kubeStateMetrics.image.digest
      filePath: ../../config/config.yaml
  admin-api:
    source:
      image: arohcpsvcdev.azurecr.io/arohcpadminapi
      useAuth: true
    targets:
    - jsonPath: clouds.public.environments.int.defaults.adminApi.image.digest
      filePath: ../../config/config.msft.clouds-overlay.yaml
    - jsonPath: clouds.dev.defaults.adminApi.image.digest
      filePath: ../../config/config.yaml

location: "{{ .region }}"
audit:
  connectSocket: {{ .adminApi.audit.connectSocket }}
deployment:
  replicas: {{ .adminApi.k8s.replicas }}
  requests:
    cpu: 200m
    memory: 512Mi
  limits:
    cpu: 1
    memory: 1Gi
  zoneCount: {{ .azureRegionAvailabilityZoneCount }}
serviceAccount:
  name: "{{ .adminApi.k8s.serviceAccountName }}"
  workloadIdentityClientId: "__adminApiMsiClientId__"
  workloadIdentityTenantId: "__tenantId__"
image:
  registry: "{{ .acr.svc.name }}.azurecr.io"
  repository: "{{ .adminApi.image.repository }}"
  digest: "{{ .adminApi.image.digest }}"
# Pull binding configuration for ACR Pull Operator
pullBinding:
  registry: "{{ .acr.svc.name }}.azurecr.io"
  scope: "repository:{{ .adminApi.image.repository }}:pull"
  workloadIdentityClientId: "__imagePullerMsiClientId__"
  workloadIdentityTenantId: "__tenantId__"
# Istio Virtual Service <- active
virtualService:
  host: "admin.{{ .dns.regionalSubdomain }}.{{ .dns.svcParentZoneName }}"
# HTTPRoute for ops-ingress gateway <- unused, DNS still points to istio gateway
httpRoute:
  host: "admin.{{ .dns.regionalSubdomain }}.{{ .dns.svcParentZoneName }}"
  gateway:
    name: ops-ingress-gateway
    namespace: aks-istio-ingress
    sectionName: admin-api-https
service:
  name: "admin-api"
  port: 8443
# TLS Credentials
credsKeyVault:
  name: "{{ .serviceKeyVault.name }}"
  secret: "{{ .adminApi.cert.name }}"
# Azure
azure:
  cloudEnvironmentName: "{{ .cloudEnvironmentName }}"
  clientId: "__csiSecretStoreClientId__"
  tenantId: "__tenantId__"
mise:
  policyLabel: "{{ .mise.genevaActions.policyLabel }}"
  deploy: {{ .mise.deploy }}
clustersService:
  namespace: "{{ .clustersService.k8s.namespace }}"
cosmosDB:
  url: "__cosmosDBDocumentEndpoint__"
  name: "{{ .frontend.cosmosDB.name }}"
kusto:
  endpoint: "__kustoEndpoint__"
fpa:
  keyVaultName: "{{ .serviceKeyVault.name }}"
  certName: "{{ .firstPartyAppCertificate.name }}"
  clientId: "{{ .firstPartyAppClientId }}"
sessiongate:
  namespace: "{{ .sessiongate.k8s.namespace }}"
  servicePort: 8080
  mise:
    policyLabel: "{{ .mise.sessiongate.policyLabel }}"
  minSessionTTL: 1m
  maxSessionTTL: 24h

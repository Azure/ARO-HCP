apiVersion: v1
kind: ConfigMap
metadata:
  name: aro-hcp-ocp-versions-config
  namespace: '{{ .Release.Namespace }}'
data:
  aro-hcp-ocp-versions-config.yaml: |
    defaultVersion:
      channelGroupName: stable
      version: {{ .Values.ocpVersions.defaultVersion.version }}
    channelGroups:
      - url: https://api.openshift.com/api/upgrades_info/graph
        channelGroupName: stable
        minVersion: {{ .Values.ocpVersions.channelGroups.stable.minVersion }}
        {{- if .Values.ocpVersions.channelGroups.stable.maxVersion }}
        maxVersion: {{ .Values.ocpVersions.channelGroups.stable.maxVersion }}
        {{- end }}
      {{- if .Values.ocpVersions.channelGroups.candidate.minVersion }}
      - url: https://api.openshift.com/api/upgrades_info/graph
        channelGroupName: candidate
        minVersion: {{ .Values.ocpVersions.channelGroups.candidate.minVersion }}
        {{- if .Values.ocpVersions.channelGroups.candidate.maxVersion }}
        maxVersion: {{ .Values.ocpVersions.channelGroups.candidate.maxVersion }}
        {{- end }}
      {{- end }}
      {{- if .Values.ocpVersions.channelGroups.nightly.minVersion }}
      - url: https://multi.ocp.releases.ci.openshift.org/graph
        channelGroupName: nightly
        minVersion: {{ .Values.ocpVersions.channelGroups.nightly.minVersion }}
        {{- if .Values.ocpVersions.channelGroups.nightly.maxVersion }}
        maxVersion: {{ .Values.ocpVersions.channelGroups.nightly.maxVersion }}
        {{- end }}
      {{- end }}
